{% extends "base.html" %}

{% block title %}{{ playlist.name }} - Echo Music{% endblock %}

{% block content %}
<div class="playlist-page-container">
    <!-- Playlist Card Section -->
    <div class="playlist-card">
        <h2 class="playlist-title">{{ playlist.name }}</h2>

        <!-- Add Tracks Button -->
        <a href="{% url 'search' %}" class="primary-button add-track-button">Add Tracks</a>

        <!-- Playlist Tracks -->
        <ul class="playlist-list">
            {% for track in playlist.tracks.all %}
                <li class="playlist-item">
                    <!-- Track Name Link to Track Details -->
                    <a href="{% url 'track_detail' spotify_id=track.spotify_id %}" class="track-name">{{ track.title }}</a>

                    <!-- Remove Track from Playlist Form -->
                    <form action="{% url 'remove_track_from_playlist' playlist.id track.id %}" method="post" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="delete-button">Remove</button>
                    </form>
                </li>
            {% empty %}
                <!-- No Tracks Message -->
                <p class="no-tracks-message">This playlist has no tracks yet.</p>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
